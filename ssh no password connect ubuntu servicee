无密码登录的优点：
1、连接更安全，可避免man in the middle的攻击（中间人）
2、连接更方便，可设置为自动连接
3、可方便禁止ftp，服务器更安全

一、准备：
如果没有安装，则先手动安装：
#：whereis ssh  //查看是否安装ssh
#：sudo apt-get install ssh  //安装ssh


二、制作密钥对：
#：ssh-keygen       //建立密钥对，如登录root则建立root的密钥对，登录admin生成则为admin的密钥对（一个萝卜一个坑，一一对应）
  Generating public/private rsa key pair.
  Enter file in which to save the key (/home/eai/.ssh/id_rsa):   <======enter确认，也可自定义密钥对存放位置
  Enter passphrase (empty for no passphrase):    <======输入密码锁，直接按enter则默认无密码
  Your identification has been saved in /home/eai/.ssh/id_rsa.    <====== 私钥
  Your public key has been saved in /home/eai/.ssh/id_rsa.pub.    <====== 公钥
  The key fingerprint is:
  77:d0:af:76:97:fd:97:dd:e5:cc:47:01:1f:40:ae:b6 eai@eai
  The key's randomart image is:
  +--[ RSA 2048]----+
  |            .o.  |
  |           ... . |
  |          . ..o .|
  |           ... o |
  |        S .o. . .|
  |         .....  =|
  |           Eo .*B|
  |           . . oX|
  |                +|
  +-----------------+

现在，在  ~/.ssh 的目录中生成了两个密钥文件。id_rsa 为私钥，id_rsa.pub 为公钥。


三、在服务器上安装公钥：
admin@websitetest：~/.ssh$ cat id_rsa.pub >> authorized_keys        //admin为其他用户名，将id_rsa.pub改名为authorized_keys(必须改名)

然后设置一下文件的权限：
admin@websitetest：~/.ssh$ chmod 600 authorized_keys      //修改文件权限
admin@websitetest：~/.ssh$ chmod 700 ~/.ssh 
admin@websitetest：sudo rm -R ~/.ssh/id_rsa.pub        //删除公钥文件（安全着想）


四、下载私钥
可用scp下载或用Filezilla（ssh、ftp软件）来下载（前面的还没弄懂，后面的比较方便）


五、下载puttygen转换私钥文件：
  1.登录网站https://www.putty.org/ 查找下载 puttygen
  2.运行PuTTYgen工具, 点击 Load, 选择要转换的私钥文件.找到之前存放私钥文件的地方.
  这里需要将文件名后面的文件类型更改为All File(.)才能看到服务器端产生的私钥文件.
  此时, PuTTYgen会要求你输入passphrase口令, 该口令是之前在服务器端利用ssh-keygen
  生成密钥对时,由用户输入的一个口令, 如果为空, 直接回车即可.输入口令, 点击ok, PuTTYge
  n会提示私钥格式转换成功，点击 Save private key 将转换成功后的 ppk 文件保存至自己想
  要的指定位置. 此时, 私钥的转换工作结束, 接下来配置PuTTY.

六、导入私钥测试：
先退出服务器连接




七、配置ssh服务：
SSH服务配置 SSH服务的配置文件主要有2个, 分别为 /etc/ssh/ssh_config 以及 /etc/ssh/sshd_config

ssh_config配置文件：
这里我们先对ssh_config配置文件进行修改, 添加或修改如下几项

1 # 使用RSA算法进行安全验证
2 RSAAuthentication yes
3 # 关闭密码验证
4 PasswordAuthentication no
5 # 强制使用的SSH2
6 Protocol 2

由于接下来我们会选用RSA算法来产生密钥对, 因此将RSAAuthentication设置成yes, PasswordAuthentication设置成no使得客户端无法
通过不安全的账户密码方式登录, 增强安全性. Protocol 2设定强制使用SSH的第二版. 当然, 如果希望仅在某一个网段内进行SSH连接, 那
么可以设置 Host *选项, 将*换成允许的网段, 例如192.168.1.代表IP地址为192.168.1.x的电脑可以进行SSH连接, 而其他IP地址的电脑
则无法连接. 关于ssh_config文件的具体选项的解释如下所示















